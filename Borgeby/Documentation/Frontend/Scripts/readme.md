# Scripts
This file contains developer instructions on how to implement and structure scripts in this project.

Author: [Viktor Wissing](mailto:viktor.wissing@cgi.com)

## Design pattern
The design pattern used is [Module Pattern](http://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript), but feel free to choose another pattern if you find one that is more suitable for this project.

The most important thing is that you **DO** use a design pattern and don't clutter the project with spaghetti code.

## Documentation
When writing documentation in our JavaScript files, we use the syntax by [JSDoc](http://usejsdoc.org). This enables us to generate a HTML documentation website of our JavaScripts.

## Namespace
All code should be written inside a module in `modules.js`. **Nothing should be written in the global namespace.**

As the number of modules increases, the modules can preferably be broken out into separate files.

## Bundling
In `gulpfile.js`, we define the files that should be included in the bundle. The bundling is then performed by [Gulp](http://gulpjs.com). The distribution files are placed in the folder `/scripts/dist/`. If the build server where the website should be deployed supports Gulp, the destination files should not be included in the project. If the webserver lacks support for Gulp, the destination files needs to be included in the project.

## Source maps
The project has been set up to automatically generate source maps each time a js file is saved. Source maps make it easy to locate exactly where a peace of code originates from when inspecting elements in the web browser. The source maps are generated by [Gulp](http://gulpjs.com) and included in the development bundle `scripts.js`. The source maps are not included in the production bundle `scripts.min.js`.

## CDN
We include all external JavaScripts from CDN's to optimize page speed. We also provide local fallback copies of every library that is used if a CDN is down.

## Vendor JavaScripts
All vendor JavaScripts should be added through bower. Define the needed packages in `bower.json`, and they will automatically be downloaded into the folder `/bower_components/`. If the build server where the website should be deployed does not support Bower, the distribution files for each vendor needs to be manually copied into the folder `/scripts/vendor/`.

### jQuery
[jQuery](http://jquery.com) is required for all our external and internal JavaScripts to work.

### TouchSwipe
[TouchSwipe](https://github.com/mattbryson/TouchSwipe-Jquery-Plugin) is a jQuery plugin that is used for detecting events on touch devices.

### OWL Carousel
[OWL Carousel](http://owlgraphic.com/owlcarousel) is a jQuery plugin that is used for creating responsive carousel sliders. For the carousel to work, we also need to incorporate some stylesheets from OWL. But instead of including the minified css files directly onto our website, we include the separate scss files from bower in the right section in `styles.scss` to honor ITCSS.

### Modernizr
We use [Modernizr](http://modernizr.com) for feature detection, but not the complete build due to it's large filesize. A gulp task called `modernizr` is available for manual run that scans our javascript files and creates a custom modernizr build file with only the required feature detections. This custom build is then included in our javascript bundle.

### Tota11y
[Tota11y](http://khan.github.io/tota11y) is a toolkit that visualizes accessibility violations (and successes), while at the same time educating on best practices. It inserts a small button in the bottom left corner of the website, which upon click will show the toolbar.
